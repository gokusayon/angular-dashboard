<div>
    <app-widget-autocomplete  (selectedListing)="setSelectedListing($event)"  [date]="cardValues.Date"></app-widget-autocomplete>
</div>

<div fxLayout="row" *ngIf="cardValues" fxLayoutAlign="space-between center" fxLayoutGap="30px" class="stats-cards">
    <mat-card fxFlex="10" [ngClass]="'bg-green'" *ngIf="cardValues.BI"  (click)="isBuyEnabled = !isBuyEnabled">
        <app-widget-card label="Buy" [value]="cardValues.BI" percentage="50"></app-widget-card>
    </mat-card>
    <mat-card fxFlex="10" class="bg-blue" *ngIf="cardValues.BJ"  (click)="isSupportEnabled = !isSupportEnabled">
        <app-widget-card label="Support" [value]="cardValues.BJ" percentage="50"></app-widget-card>
    </mat-card>
    <mat-card fxFlex="10" [ngClass]="cardValues.BK>cardValues.BI?'bg-red':'bg-custom'" *ngIf="cardValues.BK"  (click)="isSellEnabled = !isSellEnabled">
        <app-widget-card label="Sell" [value]="cardValues.BK" percentage="50"></app-widget-card>
    </mat-card>
    <mat-card fxFlex="10" class="bg-custom" *ngIf="cardValues.BJ" (click)="isOpenEnabled = !isOpenEnabled">
        <app-widget-card label="Min HP : TODO" [value]="" percentage="50"></app-widget-card>
    </mat-card>
    
    <mat-card fxFlex="10" class="bg-grey" *ngIf="cardValues.CP">
        <app-widget-card label="Close" [value]="cardValues.CP" ></app-widget-card>
    </mat-card>
    <mat-card fxFlex="10" class="bg-grey" *ngIf="cardValues.HP">
        <app-widget-card label="High" [value]="cardValues.HP" ></app-widget-card>
    </mat-card>
    <mat-card fxFlex="10" class="bg-grey" *ngIf="cardValues.LP">
        <app-widget-card label="Low" [value]="cardValues.LP" ></app-widget-card>
    </mat-card>
</div>

<br>

<mat-divider></mat-divider>

<div>
    <app-widget-stock [listing]="listing" [buy]="isBuyEnabled" [support]="isSupportEnabled" [sell]="isSellEnabled" [open]="isOpenEnabled" (updatedValueForCards)="setUpdatedCardValues($event)"></app-widget-stock>
</div>

<br>
